(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"123":function(e,t,n){},"127":function(e,t,n){},"129":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(1),o=n(198),a=n(199),i=n(201),c=n(32),s=n.n(c),l=n(30),u=n.n(l),f=n(38),p=n.n(f),d=n(31),h=n(47),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var m=function(e){function AtFloatLayout(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtFloatLayout);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtFloatLayout.__proto__||Object.getPrototypeOf(AtFloatLayout)).apply(this,arguments));t.handleClose=function(){p()(t.props.onClose)&&t.props.onClose()},t.close=function(){t.setState({"_isOpened":!1},t.handleClose)},t.handleTouchMove=function(e){e.stopPropagation()};var n=e.isOpened;return t.state={"_isOpened":n},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtFloatLayout,d["a"]),b(AtFloatLayout,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.isOpened;this.props.isOpened!==t&&Object(h.d)(t),t!==this.state._isOpened&&this.setState({"_isOpened":t})}},{"key":"render","value":function render(){var e=this.state._isOpened,t=this.props,n=t.title,c=t.scrollY,s=t.scrollX,l=t.scrollTop,f=t.scrollLeft,p=t.upperThreshold,d=t.lowerThreshold,h=t.scrollWithAnimation,b=u()("at-float-layout",{"at-float-layout--active":e},this.props.className);return r.b.createElement(o.a,{"className":b,"onTouchMove":this.handleTouchMove},r.b.createElement(o.a,{"onClick":this.close,"className":"at-float-layout__overlay"}),r.b.createElement(o.a,{"className":"at-float-layout__container layout"},n?r.b.createElement(o.a,{"className":"layout-header"},r.b.createElement(a.a,{"className":"layout-header__title"},n),r.b.createElement(o.a,{"className":"layout-header__btn-close","onClick":this.close})):null,r.b.createElement(o.a,{"className":"layout-body"},r.b.createElement(i.a,{"scrollY":c,"scrollX":s,"scrollTop":l,"scrollLeft":f,"upperThreshold":p,"lowerThreshold":d,"scrollWithAnimation":h,"onScroll":this.props.onScroll,"onScrollToLower":this.props.onScrollToLower,"onScrollToUpper":this.props.onScrollToUpper,"className":"layout-body__content"},this.props.children))))}}]),AtFloatLayout}();m.defaultProps={"title":"","isOpened":!1,"scrollY":!0,"scrollX":!1,"scrollWithAnimation":!1,"onClose":function onClose(){},"onScroll":function onScroll(){},"onScrollToLower":function onScrollToLower(){},"onScrollToUpper":function onScrollToUpper(){}},m.propType={"title":s.a.string,"isOpened":s.a.bool,"scrollY":s.a.bool,"scrollX":s.a.bool,"scrollTop":s.a.number,"scrollLeft":s.a.number,"upperThreshold":s.a.number,"lowerThreshold":s.a.number,"scrollWithAnimation":s.a.bool,"onClose":s.a.func,"onScroll":s.a.func,"onScrollToLower":s.a.func,"onScrollToUpper":s.a.func}},"132":function(e,t,n){},"197":function(e,t,n){"use strict";var r=n(1),o=n(198),a=n(199),i=n(32),c=n.n(i),s=n(30),l=n.n(s),u=n(65),f=n.n(u),p=n(31),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=function(e){function AtBadge(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtBadge);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtBadge.__proto__||Object.getPrototypeOf(AtBadge)).apply(this,arguments));return e.state={},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtBadge,p["a"]),d(AtBadge,[{"key":"formatValue","value":function formatValue(e,t){if(""===e||null===e)return"";var n=+e;return f()(n)?e:n>t?t+"+":n}},{"key":"render","value":function render(){var e=this.props,t=e.dot,n=e.value,a=e.maxValue,i=e.customStyle,c=this.formatValue(n,a);return r.b.createElement(o.a,{"className":l()(["at-badge"],this.props.className),"style":i},this.props.children,t?r.b.createElement(o.a,{"className":"at-badge__dot"}):""!==c&&r.b.createElement(o.a,{"className":"at-badge__num"},c))}}]),AtBadge}();h.defaultProps={"dot":!1,"value":"","maxValue":99,"customStyle":{},"className":""},h.propTypes={"dot":c.a.bool,"value":c.a.oneOfType([c.a.string,c.a.number]),"maxValue":c.a.number,"customStyle":c.a.oneOfType([c.a.object,c.a.string]),"className":c.a.oneOfType([c.a.array,c.a.string])},n.d(t,"a",function(){return m});var b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var m=function(e){function AtTabBar(){return function tab_bar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTabBar),function tab_bar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTabBar.__proto__||Object.getPrototypeOf(AtTabBar)).apply(this,arguments))}return function tab_bar_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTabBar,p["a"]),b(AtTabBar,[{"key":"handleClick","value":function handleClick(){var e;(e=this.props).onClick.apply(e,arguments)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.customStyle,i=t.className,c=t.fixed,s=t.backgroundColor,u=t.tabList,f=t.current,p=t.color,d=t.iconSize,b=t.fontSize,m=t.selectedColor,y={"color":p||""},g={"color":m||""},v={"fontSize":b?b+"px":""},_={"backgroundColor":s||""};return r.b.createElement(o.a,{"className":l()({"at-tab-bar":!0,"at-tab-bar--fixed":c},i),"style":this.mergeStyle(_,n)},u.map(function(t,n){var i;return r.b.createElement(o.a,{"className":l()("at-tab-bar__item",{"at-tab-bar__item--active":f===n}),"style":f===n?g:y,"key":t.title,"onClick":e.handleClick.bind(e,n)},t.iconType?r.b.createElement(h,{"dot":!!t.dot,"value":t.text,"max":t.max},r.b.createElement(o.a,{"className":"at-tab-bar__icon"},r.b.createElement(a.a,{"className":l()(""+(t.iconPrefixClass||"at-icon"),(i={},_defineProperty(i,(t.iconPrefixClass||"at-icon")+"-"+t.selectedIconType,f===n&&t.selectedIconType),_defineProperty(i,(t.iconPrefixClass||"at-icon")+"-"+t.iconType,!(f===n&&t.selectedIconType)),i)),"style":{"color":f===n?m:p,"fontSize":d?d+"px":""}}))):null,r.b.createElement(o.a,null,r.b.createElement(h,{"dot":!t.iconType&&!!t.dot,"value":t.iconType?"":t.text,"max":t.iconType?"":t.max},r.b.createElement(o.a,{"className":"at-tab-bar__title","style":v},t.title))))}))}}]),AtTabBar}();m.defaultProps={"customStyle":"","className":"","fixed":!1,"current":0,"scroll":!1,"tabList":[],"onClick":function onClick(){}},m.propTypes={"customStyle":c.a.oneOfType([c.a.object,c.a.string]),"className":c.a.oneOfType([c.a.array,c.a.string]),"fixed":c.a.bool,"backgroundColor":c.a.string,"current":c.a.number,"iconSize":c.a.oneOfType([c.a.number,c.a.string]),"fontSize":c.a.oneOfType([c.a.number,c.a.string]),"color":c.a.string,"selectedColor":c.a.string,"scroll":c.a.bool,"tabList":c.a.array,"onClick":c.a.func}},"210":function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),a=n(198),i=n(57),c=n(201),s=n(7),l=n(67),u=n(55),f=n(199),p=n(70),d=n(214),h=(n(123),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var b=function(e){function Topic(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Topic),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Topic.__proto__||Object.getPrototypeOf(Topic)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Topic,r["a"].Component),h(Topic,[{"key":"goToDetail","value":function goToDetail(e){r.a.navigateTo({"url":"/pages/detail/index?activeid="+e.id})}},{"key":"handelfollow","value":function handelfollow(e){e.stopPropagation()}},{"key":"render","value":function render(){var e=this.props.item;return o.b.createElement(a.a,{"className":"topiclist-topic","onClick":this.goToDetail.bind(this,e)},o.b.createElement(a.a,{"className":"head"},o.b.createElement(a.a,{"className":"head-img-name"},o.b.createElement(u.a,{"className":"head-img","src":e.author?e.author.avatar_url:""}),o.b.createElement(a.a,{"className":"name"},e.bussinessName?e.bussinessName:"")),o.b.createElement(a.a,{"className":"head-follow"},0===e.isAttention?o.b.createElement(d.a,{"className":"before-fllow","loading":!1,"disabled":!1,"onClick":this.handelfollow.bind(this),"type":"secondary","size":"small"}," + 关注"):"",1===e.isAttention?o.b.createElement(d.a,{"className":"after-fllow","loading":!1,"disabled":!1,"type":"secondary","size":"small"}," 已关注"):"")),o.b.createElement(a.a,{"className":"shops-img"},"图片"),o.b.createElement(a.a,{"className":"shops-intor"},o.b.createElement(a.a,{"className":"pro-name"},e.bussinessName?e.bussinessName:"",o.b.createElement(f.a,{"style":{"marginLeft":"6PX"}},"赞助")),o.b.createElement(a.a,{"className":"content"},o.b.createElement(a.a,null,o.b.createElement(f.a,{"className":"shops-intor-title"},"奖品："),e.remark?e.remark:"")),o.b.createElement(a.a,{"className":"topic-info"},o.b.createElement(f.a,null,Object(p.a)(e.startTime)),o.b.createElement(f.a,{"style":{"marginLeft":"10PX"}},e.raffleMode?e.raffleMode:""))))}}]),Topic}(),m=(n(127),n(129)),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var g,v=function(e){function HomeHead(){!function homehead_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HomeHead);var e=function homehead_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(HomeHead.__proto__||Object.getPrototypeOf(HomeHead)).apply(this,arguments));return e.state={"isOpened":!1},e}return function homehead_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HomeHead,r["a"].Component),y(HomeHead,[{"key":"openAtFloatLayout","value":function openAtFloatLayout(){this.setState({"isOpened":!0})}},{"key":"render","value":function render(){var e=this.state.isOpened;return o.b.createElement(a.a,{"className":"at-row at-row__justify--between home-head"},o.b.createElement(a.a,{"className":"at-col at-col-5"},o.b.createElement(f.a,{"className":"text-logo"},"每日抽奖")),o.b.createElement(a.a,{"className":"at-col at-col-5 text-right"},o.b.createElement(f.a,null,"我要上首页"),o.b.createElement(f.a,{"className":"icon-style"},"|"),o.b.createElement(f.a,{"onClick":this.openAtFloatLayout.bind(this)},"分享")),o.b.createElement(m.a,{"isOpened":e,"title":"分享到"},"微信 微博"))}}]),HomeHead}(),_=n(52),w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var T=Object(s.b)(function(e){return O({},e.topiclist)},function(e){return{"getTopicList":function getTopicList(t){e(Object(l.c)(t))},"getNextList":function getNextList(t){e(Object(l.a)(t))}}})(g=function(e){function TopicList(){return function topiclist_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopicList),function topiclist_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TopicList.__proto__||Object.getPrototypeOf(TopicList)).apply(this,arguments))}return function topiclist_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TopicList,r["a"].Component),w(TopicList,[{"key":"componentWillMount","value":function componentWillMount(){var e=this.props,t=e.page,n=e.size,r=Object(_.a)();this.props.getTopicList&&this.props.getTopicList({"page":t,"size":n,"userId":1,"token":r})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){console.log(e)}},{"key":"onScrollToLower","value":function onScrollToLower(){var e=this.props,t=e.page,n=e.limit;this.props.getNextList&&this.props.getNextList({"page":t+1,"limit":n,"userId":userId})}},{"key":"render","value":function render(){var e=this.props.list;return o.b.createElement(c.a,{"style":{"height":"100vh","paddingBottom":"65PX","paddingLeft":"10PX","paddingRight":"10PX","boxSizing":"border-box"},"onScrollToLower":this.onScrollToLower.bind(this),"scrollX":!1,"scrollY":!0},o.b.createElement(v,null),e.map(function(e){return o.b.createElement(b,{"item":e})}))}}]),TopicList}())||g,E=(n(132),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var P=function(e){function Index(){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"公共抽奖"},e.state={"pageNum":0},e}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["a"].Component),E(Index,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){console.log(this.props,e)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUpdate","value":function componentWillUpdate(){}},{"key":"componentDidUpdate","value":function componentDidUpdate(){}},{"key":"shouldComponentUpdate","value":function shouldComponentUpdate(e,t){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){return o.b.createElement(a.a,{"className":"index"},o.b.createElement(i.a,{"pageNum":this.state.pageNum}),o.b.createElement(T,null))}}]),Index}();t.default=P},"42":function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(36)(r,o);r.locals&&(e.exports=r.locals)},"43":function(e,t,n){(e.exports=n(35)(!1)).push([e.i,".taro-img {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  font-size: 0;\n  width: 320px;\n  height: 240px;\n}\n\n.taro-img.taro-img__widthfix {\n  height: 100%;\n}\n\n.taro-img__mode-scaletofill {\n  width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-aspectfit {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.taro-img__mode-aspectfill {\n  min-width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-widthfix {\n  width: 100%;\n}\n\n.taro-img__mode-top {\n  width: 100%;\n}\n\n.taro-img__mode-bottom {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-left {\n  height: 100%;\n}\n\n.taro-img__mode-right {\n  position: absolute;\n  height: 100%;\n  right: 0;\n}\n\n.taro-img__mode-topright {\n  position: absolute;\n  right: 0;\n}\n\n.taro-img__mode-bottomleft {\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-bottomright {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}",""])},"46":function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function isObjectLike(e){return null!=e&&"object"==(void 0===e?"undefined":n(e))}},"47":function(e,t,n){"use strict";var r=n(0),o=n(1),a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var r=e.id,o=e.dataset,a=e.rect,i=e.size,c=e.scrollOffset,s=e.properties,l=void 0===s?[]:s,u=e.computedStyle,f=void 0===u?[]:u,p=t.getBoundingClientRect(),d=p.left,h=p.right,b=p.top,m=p.bottom,y=p.width,g=p.height,v="html"===n,_={};if(r&&(_.id=t.id),o&&(_.dataset=Object.assign({},t.dataset)),a&&(v?(_.left=0,_.right=0,_.top=0,_.bottom=0):(_.left=d,_.right=h,_.top=b,_.bottom=m)),i&&(v?(_.width=t.clientWidth,_.height=t.clientHeight):(_.width=y,_.height=g)),c&&(_.scrollLeft=t.scrollLeft,_.scrollTop=t.scrollTop),l.length&&l.forEach(function(e){var n=t.getAttribute(e);n&&(_[e]=n)}),f.length){var w=window.getComputedStyle(t);f.forEach(function(e){var t=w.getPropertyValue(e);t&&(_[e]=t)})}return _}var i=function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}return a(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new c(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new c(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new c("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,r=e.single,a=e.fields,i=e.component,c=null!==i&&o.b.findDOMNode(i)||document,s=!1;if(c!==document)for(var l=c.parentNode.querySelectorAll(t),u=0,f=l.length;u<f;++u)if(c===l[u]){s=!0;break}if(r){var p=!0===s?c:c.querySelector(t);n.push(filter(a,p,t))}else{var d=c.querySelectorAll(t),h=[];!0===s&&h.push(c);for(var b=0,m=d.length;b<m;++b)h.push(d[b]);n.push(h.map(function(e){return filter(a,e)}))}}),t(n)}(this._queue,function(n){var r=t._queueCb;n.forEach(function(e,n){"function"==typeof r[n]&&r[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":r}),this._queueCb.push(o)}}]),Query}(),c=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return a(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),o}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"scrollOffset":!0},e),o}},{"key":"fields","value":function fields(e,t){var n=this._selector,r=this._component,o=this._single,a=this._selectorQuery,i=e.id,c=e.dataset,s=e.rect,l=e.size,u=e.scrollOffset,f=e.properties,p=void 0===f?[]:f,d=e.computedStyle,h=void 0===d?[]:d;return a._push(n,r,o,{"id":i,"dataset":c,"rect":s,"size":l,"scrollOffset":u,"properties":p,"computedStyle":h},t),a}}]),NodesRef}();function createSelectorQuery(){return new i}n.d(t,"c",function(){return delayQuerySelector}),n.d(t,"g",function(){return uuid}),n.d(t,"e",function(){return initTestEnv}),n.d(t,"f",function(){return isTest}),n.d(t,"d",function(){return handleTouchScroll}),n.d(t,"a",function(){return delayGetClientRect}),n.d(t,"b",function(){return delayGetScrollOffset});var s=r.a.getEnv();function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(function(t){[r.a.ENV_TYPE.WEB,r.a.ENV_TYPE.SWAN].includes(s)?setTimeout(function(){t()},e):t()})}function delayQuerySelector(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,o=s===r.a.ENV_TYPE.WEB?e:e.$scope,a=createSelectorQuery().in(o);return new Promise(function(e){delay(n).then(function(){a.select(t).boundingClientRect().exec(function(t){e(t)})})})}function delayGetScrollOffset(e){var t=e.delayTime,n=void 0===t?500:t;return new Promise(function(e){delay(n).then(function(){createSelectorQuery().selectViewport().scrollOffset().exec(function(t){e(t)})})})}function delayGetClientRect(e){var t=e.self,n=e.selectorStr,o=e.delayTime,a=void 0===o?500:o,i=s===r.a.ENV_TYPE.WEB||s===r.a.ENV_TYPE.SWAN?t:t.$scope,c=createSelectorQuery().in(i);return new Promise(function(e){delay(a).then(function(){c.select(n).boundingClientRect().exec(function(t){e(t)})})})}function uuid(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],o=0;if(t=t||n.length,e)for(o=0;o<e;o++)r[o]=n[0|Math.random()*t];else{var a=void 0;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",o=0;o<36;o++)r[o]||(a=0|16*Math.random(),r[o]=n[19===o?3&a|8:a])}return r.join("")}function initTestEnv(){0}function isTest(){return!1}var l=0;function handleTouchScroll(e){s===r.a.ENV_TYPE.WEB&&(e?(l=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-l+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=l))}},"50":function(e,t,n){"use strict";n.d(t,"a",function(){return getJSON}),n.d(t,"b",function(){return postJSON});var r=n(213),o=n(122);n(1),n(9);function getJSON(e,t){return Object(r.b)(),Object(o.a)({"url":e,"data":t,"method":"GET"}).then(function(e){return Object(r.a)(),e})}function postJSON(e,t){return Object(r.b)(),Object(o.a)({"header":{"content-type":"application/json"},"url":e,"data":t,"method":"POST"}).then(function(e){return Object(r.a)(),e})}},"51":function(e,t,n){"use strict";t.a={"gettopics":"http://39.98.190.70:2023/free/activity/list","getactdetails":"http://39.98.190.70:2023/free/activity/info","getCode":"http://39.98.190.70:2023/free/user/loginSendSms","login":"http://39.98.190.70:2023/free/user/login","userList":"http://39.98.190.70:2023/free/activity/userList"}},"52":function(e,t,n){"use strict";n.d(t,"b",function(){return saveUserToken}),n.d(t,"a",function(){return loadUserToken});var r=n(53),o="__user_token__";function saveUserToken(e){return r.a.set(o,e),r.a.get(o)}function loadUserToken(){return r.a.get(o,"")}},"53":function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={"version":"1.1.0","storage":window.localStorage,"session":{"storage":window.sessionStorage}},a={"set":function set(e,t){if(!this.disabled)return void 0===t?this.remove(e):(this.storage.setItem(e,function serialize(e){return JSON.stringify(e)}(t)),t)},"get":function get(e,t){if(this.disabled)return t;var n=function deserialize(e){if("string"!=typeof e)return;try{return JSON.parse(e)}catch(t){return e||void 0}}(this.storage.getItem(e));return void 0===n?t:n},"has":function has(e){return void 0!==this.get(e)},"remove":function remove(e){this.disabled||this.storage.removeItem(e)},"clear":function clear(){this.disabled||this.storage.clear()},"getAll":function getAll(){if(this.disabled)return null;var e={};return this.forEach(function(t,n){e[t]=n}),e},"forEach":function forEach(e){if(!this.disabled)for(var t=0;t<this.storage.length;t++){var n=this.storage.key(t);e(n,this.get(n))}}};r(o,a),r(o.session,a);try{var i="__storejs__";o.set(i,i),o.get(i)!==i&&(o.disabled=!0),o.remove(i)}catch(e){o.disabled=!0}t.a=o},"55":function(e,t,n){"use strict";n(33);var r=n(1),o=n(30),a=n.n(o),i=(n(42),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var s=function(e){function Image(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Image),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Image.__proto__||Object.getPrototypeOf(Image)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Image,r["b"].Component),c(Image,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.src,o=e.style,c=e.mode,s=e.onLoad,l=e.onError,u=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","src","style","mode","onLoad","onError"]),f=a()("taro-img",{"taro-img__widthfix":"widthFix"===c},t),p="taro-img__mode-"+(c||"scaleToFill").toLowerCase().replace(/\s/g,"");return r.b.createElement("div",i({"className":f,"style":o},u),r.b.createElement("img",{"className":p,"src":n,"onLoad":s,"onError":l}))}}]),Image}();t.a=s},"57":function(e,t,n){"use strict";var r,o=n(0),a=n(1),i=n(198),c=n(7),s=n(197),l=(n(58),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var f=Object(c.b)(function(e){return u({},e.menu)},function(e){return{"showMenu":function showMenu(){e(showDrawer())},"changeCata":function(e){function changeCata(t){return e.apply(this,arguments)}return changeCata.toString=function(){return e.toString()},changeCata}(function(t){e(changeCata(t))}),"hideDrawer":function(e){function hideDrawer(){return e.apply(this,arguments)}return hideDrawer.toString=function(){return e.toString()},hideDrawer}(function(){e(hideDrawer())})}})(r=function(e){function Menu(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Menu);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Menu.__proto__||Object.getPrototypeOf(Menu)).apply(this,arguments));return e.state={"current":0},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Menu,o["a"].Component),l(Menu,[{"key":"goToMy","value":function goToMy(){o.a.navigateTo({"url":"/pages/my/index"})}},{"key":"goToIndex","value":function goToIndex(){o.a.navigateTo({"url":"/pages/index/index"})}},{"key":"handleClick","value":function handleClick(e){e!==this.props.pageNum&&(2===e&&this.goToMy(),0===e&&this.goToIndex())}},{"key":"render","value":function render(){var e=this.props.pageNum;return a.b.createElement(i.a,null,a.b.createElement(s.a,{"fixed":!0,"tabList":[{"title":"首页","iconType":"home","text":""},{"title":"发起抽奖","iconType":"camera"},{"title":"我的","iconType":"user","text":"","max":""}],"selectedColor":"#f10215","fontSize":12,"iconSize":20,"backgroundColor":"#ffffff","onClick":this.handleClick.bind(this),"current":e}))}}]),Menu}())||r;t.a=f},"58":function(e,t,n){},"65":function(e,t,n){var r=n(66);e.exports=function isNaN(e){return r(e)&&e!=+e}},"66":function(e,t,n){var r=n(37),o=n(46),a="[object Number]";e.exports=function isNumber(e){return"number"==typeof e||o(e)&&r(e)==a}},"67":function(e,t,n){"use strict";n.d(t,"c",function(){return getTopicList}),n.d(t,"a",function(){return getNextList}),n.d(t,"b",function(){return getTopicInfo});var r=n(213),o=n(50),a=n(51);n(1);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}function getTopicList(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(t){var r;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.gettopics,e).catch(function(e){console.log(e)});case 2:(r=n.sent)&&r.data&&0===r.data.errNo&&t({"type":"getTopicList","list":r.data.data.dataList});case 4:case"end":return n.stop()}},_callee,n)})),function(e){return t.apply(this,arguments)}}function getNextList(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t){var r;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.a)(a.a.gettopics,e);case 2:(r=n.sent)&&r.data&&r.data.success&&r.data.data.length>0&&t({"type":"appendTopicList","list":r.data.data,"page":e.page});case 4:case"end":return n.stop()}},_callee2,n)})),function(e){return t.apply(this,arguments)}}function getTopicInfo(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(t){var r;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.getactdetails,e);case 2:(r=n.sent)&&r.data?t({"type":"getTopicInfo","infoData":r.data.data}):console.error("请求详情失败！");case 4:case"end":return n.stop()}},_callee3,n)})),function(e){return t.apply(this,arguments)}}var i,c,s,l;i=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){var t;return regeneratorRuntime.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.upreply+e.replyid+"/ups",e);case 2:if(!((t=n.sent)&&t.data&&t.data.success)){n.next=7;break}return n.abrupt("return",t.data);case 7:Object(r.c)({"title":"点赞失败!","icon":"none"});case 8:return n.abrupt("return",!1);case 9:case"end":return n.stop()}},_callee4,this)})),c=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.replytopic+e.topicid+"/replies",e);case 2:if(!((t=n.sent)&&t.data&&t.data.success)){n.next=7;break}return n.abrupt("return",t.data);case 7:Object(r.c)({"title":"评论失败!","icon":"none"});case 8:return n.abrupt("return",!1);case 9:case"end":return n.stop()}},_callee5,this)})),s=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e){var t;return regeneratorRuntime.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.createtopic,e);case 2:if(!((t=n.sent)&&t.data&&t.data.success)){n.next=7;break}return n.abrupt("return",t.data);case 7:Object(r.c)({"title":"发布话题失败!","icon":"none"});case 8:return n.abrupt("return",!1);case 9:case"end":return n.stop()}},_callee6,this)})),l=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(e){var t;return regeneratorRuntime.wrap(function _callee7$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.b)(a.a.updatetopic,e);case 2:if(!((t=n.sent)&&t.data&&t.data.success)){n.next=7;break}return n.abrupt("return",t.data);case 7:Object(r.c)({"title":"更新话题失败!","icon":"none"});case 8:return n.abrupt("return",!1);case 9:case"end":return n.stop()}},_callee7,this)}))},"70":function(e,t,n){"use strict";function myTimeToLocal(e){if(!e&&"number"!=typeof e)return"";var t="";e=new Date(e).getTime();var n=(new Date).getTimezoneOffset();return t=(t=(t=new Date(e-6e4*n).toISOString()).substr(0,t.lastIndexOf("."))).replace("T"," ")}n.d(t,"a",function(){return myTimeToLocal})}}]);