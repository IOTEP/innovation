(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"284":function(e,t,n){},"340":function(e,t,n){"use strict";n.r(t);var a,r=n(352),o=n(0),i=n(1),c=n(335),l=n(56),s=n(7),u=n(62),f=n(73),p=n(37),h=n(355),d=n(209),m=n(214),b=n(341),g=(n(284),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var v=Object(s.b)(function(e){return y({},e.user)},function(e){return{"getUserInfo":function getUserInfo(t){e(Object(f.b)(t))}}})(a=function(e){function My(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,My);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(My.__proto__||Object.getPrototypeOf(My)).apply(this,arguments));return e.config={"navigationBarTitleText":"我的"},e.state={"pageNum":2},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(My,o["a"].Component),g(My,[{"key":"componentWillMount","value":function componentWillMount(){Object(r.b)();var e={"id":1,"token":Object(p.a)()};this.props.getUserInfo&&this.props.getUserInfo(e)}},{"key":"handleClick","value":function handleClick(){o.a.navigateBack({"delta":1})}},{"key":"handleClickFollow","value":function handleClickFollow(){o.a.navigateTo({"url":"/pages/follow/index"})}},{"key":"handleClickFans","value":function handleClickFans(){o.a.navigateTo({"url":"/pages/fans/index"})}},{"key":"handleClickSet","value":function handleClickSet(){o.a.navigateTo({"url":"/pages/set/index"})}},{"key":"handleClickPriceAll","value":function handleClickPriceAll(){o.a.navigateTo({"url":"/pages/price/index?pricename=全部抽奖&type=0"})}},{"key":"handleClickPrice","value":function handleClickPrice(){o.a.navigateTo({"url":"/pages/price/index?pricename=中奖&type=1"})}},{"key":"handleClickPriceLaunch","value":function handleClickPriceLaunch(){o.a.navigateTo({"url":"/pages/price/index?pricename=发起抽奖&type=3"})}},{"key":"componentDidMount","value":function componentDidMount(){Object(r.a)()}},{"key":"render","value":function render(){var e=this.props.userInfo;return console.log("((()))"),console.log(e),i.b.createElement(c.a,{"className":"my"},i.b.createElement(u.a,{"pageNum":this.state.pageNum}),i.b.createElement(c.a,{"className":"basic"},i.b.createElement(c.a,{"className":"head"},i.b.createElement(c.a,{"className":"head-img-name"},i.b.createElement(c.a,{"className":"head-img"},i.b.createElement(l.a,{"src":e.photo?e.photo:""})),i.b.createElement(c.a,{"className":"name"},e.nick?e.nick:"")),i.b.createElement(c.a,{"className":"head-follow"},i.b.createElement(c.a,{"className":"info","onClick":this.handleClickFollow.bind(this)},i.b.createElement(c.a,{"className":"top"},e.attentionCount?e.attentionCount:""),i.b.createElement(c.a,{"className":"bottom"},"关注")),i.b.createElement(c.a,{"className":"info","onClick":this.handleClickFans.bind(this)},i.b.createElement(c.a,{"className":"top"},e.fansCount?e.fansCount:0),i.b.createElement(c.a,{"className":"bottom"},"粉丝")),i.b.createElement(c.a,{"className":"info act"},i.b.createElement(h.a,{"className":"before-fllow","loading":!1,"disabled":!1,"type":"secondary","size":"small"}," + 关注")))),i.b.createElement(c.a,{"className":"history-price"},i.b.createElement(c.a,{"className":"list","onClick":this.handleClickPriceAll.bind(this)},i.b.createElement(c.a,{"className":"top"},e.joinActivityCount?e.joinActivityCount:0),i.b.createElement(c.a,{"className":"bottom"},"全部抽奖")),i.b.createElement(c.a,{"className":"list","onClick":this.handleClickPriceLaunch.bind(this)},i.b.createElement(c.a,{"className":"top"},e.createActivityCount?e.createActivityCount:0),i.b.createElement(c.a,{"className":"bottom"},"发起抽奖")),i.b.createElement(c.a,{"className":"list act","onClick":this.handleClickPrice.bind(this)},i.b.createElement(c.a,{"className":"top"},e.raffleActivityCount?e.raffleActivityCount:0),i.b.createElement(c.a,{"className":"bottom"},"中奖纪录"))),i.b.createElement(d.a,null,i.b.createElement(m.a,{"title":"设置","arrow":"right","onClick":this.handleClickSet.bind(this),"iconInfo":{"size":20,"color":"#999999","value":"settings"}})),i.b.createElement(b.a,{"note":"","extra":"","title":"待开奖","thumb":"http://www.logoquan.com/upload/list/20180421/logoquan15259400209.PNG"},i.b.createElement(c.a,{"className":"waiting-award"},i.b.createElement(c.a,{"className":"award-list"}),i.b.createElement(c.a,{"className":"award-list"}),i.b.createElement(c.a,{"className":"award-list"}))),i.b.createElement(b.a,{"note":"","extra":"","title":"已结束","thumb":"http://www.logoquan.com/upload/list/20180421/logoquan15259400209.PNG"},i.b.createElement(d.a,null,i.b.createElement(m.a,{"title":"奖品:XXXXXXXXXXX","arrow":"right","extraText":"4月5日","iconInfo":{"size":20,"color":"#999999","value":"settings"}}),i.b.createElement(m.a,{"title":"奖品:XXXXXXXXXXX","arrow":"right","extraText":"4月6日","iconInfo":{"size":20,"color":"#999999","value":"settings"}})))))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),My}())||a;t.default=v},"37":function(e,t,n){"use strict";n.d(t,"b",function(){return saveUserToken}),n.d(t,"a",function(){return loadUserToken});var a=n(53),r="__user_token__";function saveUserToken(e){return a.a.set(r,e),a.a.get(r)}function loadUserToken(){return a.a.get(r,"")}},"39":function(e,t,n){"use strict";n.d(t,"a",function(){return getJSON}),n.d(t,"b",function(){return postJSON});var a=n(352),r=n(337);n(1),n(8);function getJSON(e,t){return Object(a.b)(),Object(r.a)({"url":e,"data":t,"method":"GET"}).then(function(e){return Object(a.a)(),e})}function postJSON(e,t){return Object(a.b)(),Object(r.a)({"header":{"content-type":"application/json"},"url":e,"data":t,"method":"POST"}).then(function(e){return Object(a.a)(),e})}},"40":function(e,t,n){"use strict";t.a={"gettopics":"http://39.98.190.70:2023/free/activity/list","getactdetails":"http://39.98.190.70:2023/free/activity/info","getCode":"http://39.98.190.70:2023/free/user/loginSendSms","login":"http://39.98.190.70:2023/free/user/login","userList":"http://39.98.190.70:2023/free/activity/userList","partakePrice":"http://39.98.190.70:2023/free/action/raffle","commentList":"http://39.98.190.70:2023/free/activity/commentAndLikeInfo","userInfo":"http://39.98.190.70:2023/free/user/info","followUser":"http://39.98.190.70:2023/free/user/attention/list","fansUser":"http://39.98.190.70:2023/free/user/fans/list","priceList":"http://39.98.190.70:2023/free/user/activity/list"}},"62":function(e,t,n){"use strict";var a,r=n(0),o=n(1),i=n(335),c=n(7),l=n(248),s=(n(63),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var f=Object(c.b)(function(e){return u({},e.menu)},function(e){return{"showMenu":function showMenu(){e(showDrawer())},"changeCata":function(e){function changeCata(t){return e.apply(this,arguments)}return changeCata.toString=function(){return e.toString()},changeCata}(function(t){e(changeCata(t))}),"hideDrawer":function(e){function hideDrawer(){return e.apply(this,arguments)}return hideDrawer.toString=function(){return e.toString()},hideDrawer}(function(){e(hideDrawer())})}})(a=function(e){function Menu(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Menu);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Menu.__proto__||Object.getPrototypeOf(Menu)).apply(this,arguments));return e.state={"current":0},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Menu,r["a"].Component),s(Menu,[{"key":"goToMy","value":function goToMy(){r.a.navigateTo({"url":"/pages/my/index"})}},{"key":"goToIndex","value":function goToIndex(){r.a.navigateTo({"url":"/pages/index/index"})}},{"key":"handleClick","value":function handleClick(e){}},{"key":"render","value":function render(){var e=this.props.pageNum;return o.b.createElement(i.a,null,o.b.createElement(l.a,{"fixed":!0,"tabList":[{"title":"首页","iconType":"home","text":""},{"title":"新鲜快送","iconType":"camera"},{"title":"我的","iconType":"user","text":"","max":""}],"selectedColor":"#f10215","fontSize":12,"iconSize":20,"backgroundColor":"#ffffff","onClick":this.handleClick.bind(this),"current":e}))}}]),Menu}())||a;t.a=f},"63":function(e,t,n){},"73":function(e,t,n){"use strict";n.d(t,"a",function(){return getCode}),n.d(t,"c",function(){return loginRequest}),n.d(t,"b",function(){return getUserInfo});var a=n(39),r=n(37),o=n(40);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}function getCode(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(t){var r;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.b)(o.a.getCode,e).catch(function(e){console.log(e)});case 2:(r=n.sent)&&r.data&&0===r.data.errNo&&t({"type":"getCode","code":r.data.data});case 4:case"end":return n.stop()}},_callee,n)})),function(e){return t.apply(this,arguments)}}function loginRequest(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t){var i;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.b)(o.a.login,e).catch(function(e){console.log(e)});case 2:(i=n.sent)&&i.data&&0===i.data.errNo&&(Object(r.b)(i.data.data.accessToken),t({"type":"login","token":i.data.data}));case 4:case"end":return n.stop()}},_callee2,n)})),function(e){return t.apply(this,arguments)}}function getUserInfo(e){var t,n=this;return t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(t){var r;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.b)(o.a.userInfo,e).catch(function(e){console.log(e)});case 2:r=n.sent,console.log("&&&&&&&&&&&&&&&&^^^^"),console.log(r),r&&r.data&&0===r.data.errNo&&t({"type":"userInfo","userInfo":r.data.data});case 6:case"end":return n.stop()}},_callee3,n)})),function(e){return t.apply(this,arguments)}}}}]);